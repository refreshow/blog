<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>How To Scaling React.js Applications | Refreshow</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="這個主題其實是來自以下影片的筆記How To Scaling React.js App
這影片才半小時左右，滿值得看看的，有機會看完，也上來修改或補充我說的東西，因為畢竟他說的英文有濃濃的xx腔，聽不是太懂，只能根據我所聽到的以及消化過的東西跟大家分享
前言在開始之前，先大概瞭解作者。作者叫mxstbr，他開發的boilerplate目前在排名網站中，目前是第二名，在他影片的前言有特別提到他使用了">
<meta property="og:type" content="article">
<meta property="og:title" content="How To Scaling React.js Applications">
<meta property="og:url" content="https://refreshow.github.io/blog/2016/07/24/How-To-Scaling-React-js-Applications/index.html">
<meta property="og:site_name" content="Refreshow">
<meta property="og:description" content="這個主題其實是來自以下影片的筆記How To Scaling React.js App
這影片才半小時左右，滿值得看看的，有機會看完，也上來修改或補充我說的東西，因為畢竟他說的英文有濃濃的xx腔，聽不是太懂，只能根據我所聽到的以及消化過的東西跟大家分享
前言在開始之前，先大概瞭解作者。作者叫mxstbr，他開發的boilerplate目前在排名網站中，目前是第二名，在他影片的前言有特別提到他使用了">
<meta property="og:image" content="https://refreshow.github.io/blog/./State-1.png">
<meta property="og:image" content="https://refreshow.github.io/blog/./State-2.png">
<meta property="og:image" content="https://refreshow.github.io/blog/./State-3.png">
<meta property="og:image" content="https://refreshow.github.io/blog/./State-4.png">
<meta property="og:image" content="https://refreshow.github.io/blog/./State-5.png">
<meta property="og:image" content="https://refreshow.github.io/blog/./State-6.png">
<meta property="og:image" content="https://refreshow.github.io/blog/./Dan-1.png">
<meta property="og:image" content="https://refreshow.github.io/blog/./Dan-2.png">
<meta property="og:image" content="https://refreshow.github.io/blog/str-1.png">
<meta property="og:image" content="https://refreshow.github.io/blog/str-2.png">
<meta property="og:updated_time" content="2016-07-31T09:45:54.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="How To Scaling React.js Applications">
<meta name="twitter:description" content="這個主題其實是來自以下影片的筆記How To Scaling React.js App
這影片才半小時左右，滿值得看看的，有機會看完，也上來修改或補充我說的東西，因為畢竟他說的英文有濃濃的xx腔，聽不是太懂，只能根據我所聽到的以及消化過的東西跟大家分享
前言在開始之前，先大概瞭解作者。作者叫mxstbr，他開發的boilerplate目前在排名網站中，目前是第二名，在他影片的前言有特別提到他使用了">
<meta name="twitter:image" content="https://refreshow.github.io/blog/./State-1.png">
    

    
        <link rel="alternate" href="/" title="Refreshow" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/blog/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/blog/vendor/open-sans/styles.css">
    <link rel="stylesheet" href="/blog/vendor/source-code-pro/styles.css">

    <link rel="stylesheet" href="/blog/css/style.css">

    <script src="/blog/vendor/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/blog/vendor/fancybox/jquery.fancybox.css">
    
    
        <script type="text/javascript">
(function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-81852219-1', 'auto');
ga('send', 'pageview');

</script>
    
    
    

</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/blog/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Refreshow</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/blog/.">Home</a>
                
                    <a class="main-nav-link" href="/blog/archives">Archives</a>
                
                    <a class="main-nav-link" href="/blog/categories">Categories</a>
                
                    <a class="main-nav-link" href="/blog/tags">Tags</a>
                
                    <a class="main-nav-link" href="/blog/about">About</a>
                
            </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜尋" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: 'Pages',
            CATEGORIES: '分類',
            TAGS: '標籤',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/blog/',
        CONTENT_URL: '/blog/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/blog/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/blog/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/blog/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/blog/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/blog/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/blog/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜尋" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
            <section id="main"><article id="post-How-To-Scaling-React-js-Applications" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            How To Scaling React.js Applications
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/blog/2016/07/24/How-To-Scaling-React-js-Applications/">
            <time datetime="2016-07-24T01:43:53.000Z" itemprop="datePublished">2016-07-24</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/blog/categories/Javascript/">Javascript</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/blog/categories/Javascript/React-js/">React.js</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/blog/tags/javascript/">javascript</a>
    </div>

                    </div>
                
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>這個主題其實是來自以下影片的筆記<br><a href="https://vimeo.com/168648012" target="_blank" rel="external">How To Scaling React.js App</a></p>
<p>這影片才半小時左右，滿值得看看的，有機會看完，也上來修改或補充我說的東西，<br>因為畢竟他說的英文有濃濃的xx腔，聽不是太懂，只能根據我所聽到的以及消化過的東西跟大家分享</p>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在開始之前，先大概瞭解作者。<br>作者叫mxstbr，他開發的boilerplate目前在<a href="http://andrewhfarmer.com/starter-project/" target="_blank" rel="external">排名網站</a>中，<br>目前是第二名，在他影片的前言有特別提到他使用了</p>
<ol>
<li>KeyStoneJs</li>
<li>ElementalUI</li>
</ol>
<a id="more"></a>
<p>KeyStoneJs你可以把它想像成它是基於express框架更上面的應用層，他提供了許多功能，如<br>安全認證，後台的管理頁面，動態路由，密碼自動加密，表單處理，Email發送…等，DB的部分<br>主要是利用Mongoose去對MongoDB做處理。對於加速網站的開發是有一定的好處。<br><a href="http://keystonejs.com/zh/" target="_blank" rel="external">KeystoneJs簡體版的官網</a></p>
<p>ElementalUI是建立於React上的UI Toolkit，很像Boostrap，有興趣可以查查，不再說明。</p>
<h1 id="正式進入主題"><a href="#正式進入主題" class="headerlink" title="正式進入主題"></a>正式進入主題</h1><p>在作者的經驗談中，他認為Scaling React.js App 你必須了解四個重要的問題</p>
<ol>
<li>What is Scalability?</li>
<li>State Management</li>
<li>Architecture</li>
<li>Performance</li>
</ol>
<h2 id="What-is-Scalability"><a href="#What-is-Scalability" class="headerlink" title="What is Scalability?"></a>What is Scalability?</h2><p>一般人提到Scalability會認為是，一個有能力變更大和處理更多work的的系統。<br>但這又是什麼意思？簡單來說就是這個系統能handle事情的能力多寡，等於這系統的Scalability<br>事情的種類包含了使用者的所有發出的事件，前後端開發者的人數，網站的功能的數目。                                                      </p>
<h2 id="State-Management"><a href="#State-Management" class="headerlink" title="State Management"></a>State Management</h2><p>傳統來說，如Angular 1.x 或一些比較舊的方式，維護State的方式，是子元素一改變就通知父元素，<br>例如一開始的狀態如下:<br><img src="./State-1.png" alt=""></p>
<p>突然間有一個child component的狀態改變了<br><img src="./State-2.png" alt=""><br>他就會跟他老爸說，『老爸，我改變囉』<br><img src="./State-3.png" alt=""><br>但事情可能沒那麼簡單，因為它可能有兩個老爸，另一個老爸又有自己的孩子(觀察實線)<br><img src="./State-4.png" alt=""><br>到最後可能長這樣..<br><img src="./State-5.png" alt=""><br>如果今天你按一個button，中間的關係如上圖，請問你一個問題<br><strong>How To Debug?</strong><br>非常困難debug，因為你根本不知道哪一個地方爆了，所以你只能慢慢trace..</p>
<p>鑑於如此，所以React提供了一個flux的架構，也就是單向流的概念，如下圖<br><img src="./State-6.png" alt=""><br>從上圖中我們可以觀察到，child component改變後，接著找store，store改變state後，通知<br>root component，在一層一層的從由父元素改變下來，形成一個cycle(觀察實線的部分)。</p>
<p><strong>這樣的好處就是你debug是有跡可循的，輕鬆的</strong></p>
<p>而這樣的資料流模式備受推從，從中又有演伸出Redux，在Redux中又有一些新的規則來確保資料<br>流不僅是單向，而且還是immutable，也就是pure function以及所有的state都不該被直接做<br>改變。</p>
<h2 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a>Architecture</h2><p>在React中，redux的做法Dan將Component分成兩類</p>
<ol>
<li>Containers</li>
<li>Components (又稱Presentational Components)</li>
</ol>
<p>有興趣可以參考<a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.q0at83ds5" target="_blank" rel="external">Dan對於此Component的定義</a><br>但此作者給出簡單的定義，我覺得相當易懂</p>
<blockquote>
<p><strong>Container Component</strong> concern how the things work<br><strong>Component</strong> concern how the things look</p>
</blockquote>
<p>我們以Dan的Todolist的架構來解釋，請看下圖。<br><img src="./Dan-1.png" alt=""><br>我們可以看到container底下有三個js檔，AddTodo和FilterLink和VisibleTodoList<br>均為描述一個component how to work，我們點擊AddTodo.js來看看，如下圖:<br><img src="./Dan-2.png" alt=""><br>可以看到程式碼在說明該如何addTodo，而沒有任何有關於畫面描述的程式碼在裡面。</p>
<p>而且也特別注意Container和Component本身沒有所謂的上下關係，這點也可以從Code裡面清楚<br>的看到。</p>
<blockquote>
<p>view層(ex:點擊button) -&gt; actioncreator(發dispatch) -&gt; Action -&gt; Reducer -&gt; 更動Store(newState) -&gt; 重繪Component</p>
</blockquote>
<p>非常清楚的單向流。</p>
<p>想多了解可以看看Dan的<a href="https://github.com/reactjs/redux/blob/master/examples/" target="_blank" rel="external">Examples</a></p>
<h3 id="How-to-structure-your-component"><a href="#How-to-structure-your-component" class="headerlink" title="How to structure your component?"></a>How to structure your component?</h3><p>傳統來說，許多人會以type來作為分類的標準，如下：<br><img src="str-1.png" alt=""></p>
<p>其實這種分法並沒有錯，但有幾個很大的問題</p>
<ol>
<li>當你的是個大型服務的時候，在檔案很龐大的情況下，找檔案不容易啊，你可能會說，我覺得還好！但須考慮多人多工，別人需要維護你的Code的情況。</li>
<li>在Redux的架構下，我們知道一個功能完整的cycle，會有action，container，constants，components，reducer等，所以當你在debug的時候，就會一直在那換資料夾，浪費時間。</li>
<li>非常不彈性，搬移困難。假設你另外一個專案想用此Component，你必須要去上述的資料夾中分別複製到新的專案的各別資料夾中。</li>
</ol>
<p>所以影片中的作者提供了以function為分類標準:<br><img src="str-2.png" alt=""></p>
<p>很顯然上面的缺點，在這架構下，完全沒此問題</p>
<ol>
<li>維護，新增，修改非常方便。</li>
<li>非常彈性，沿用性高。 </li>
</ol>
<blockquote>
<p>這就是<strong>Component isolation</strong>的精神 </p>
</blockquote>
<h3 id="Data-Fetching"><a href="#Data-Fetching" class="headerlink" title="Data Fetching"></a>Data Fetching</h3><p>這個主題是Architecture最後一塊拼圖，它牽涉三個重要的概念</p>
<ol>
<li>Generator Function &amp;&amp; async</li>
<li>Redux-thunk </li>
<li>Redux-Saga</li>
</ol>
<h4 id="Generator-Function"><a href="#Generator-Function" class="headerlink" title="Generator Function"></a>Generator Function</h4><p>前置作業<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> <span class="comment">--save-dev babel-preset-es2015</span></div><div class="line">npm <span class="keyword">install</span> <span class="comment">--save babel-polyfill</span></div></pre></td></tr></table></figure></p>
<p>並在需要用到GF的地方加上<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'babel-polyfill'</span></div></pre></td></tr></table></figure></p>
<p>Generator Function是ES6的新feature，以下文章的範例有些均來自下列blog，加上自己的解釋</p>
<ol>
<li><a href="http://abalone0204.github.io/2016/05/08/es6-generator-func/" target="_blank" rel="external">淺入淺出Generator Function</a></li>
<li><a href="https://davidwalsh.name/es6-generators" target="_blank" rel="external">The Basics Of ES6 Generators</a></li>
<li><a href="http://huli.logdown.com/posts/292331-javascript-es6-generator-foundation" target="_blank" rel="external">Javascript ES6 Generator基礎</a></li>
</ol>
<p>講到GF，有幾個以下的重要關鍵字會在GF的scope常用到，如：</p>
<ol>
<li>yield</li>
<li>next()</li>
<li>next(x)</li>
<li>yield*</li>
</ol>
<p>簡單來說GF會和這些關鍵字去實現非同步的操作。後面馬上就有例子：</p>
<p>一般，GF的長相如下:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">name</span>(<span class="params">[param[, param[, ... param]]]</span>) </span>&#123;</div><div class="line">   statements</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>直接說明yield和next的用法。</p>
<p>一般正常的函數，你呼叫它，它就持續把函數內的代碼依序跑過，但GF不同的是，當程式執行到yield這行<br>他會把yeild右邊的表達式丟出函數，然後就停住，下一次在使用<strong>next</strong>呼叫，他會從這一行開始執行</p>
<p>而next()，他的返回值是個物件，屬性有兩個</p>
<ol>
<li>value: yield右邊任何的表達式都會被求值並傳給他的調用者，在這裡就是指gen</li>
<li>done : 假設這個GF被完全執行完畢，就會是True，否則為False</li>
</ol>
<p>來一個簡單的例子:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> *<span class="title">get_counter</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> i = <span class="number">1</span>;</div><div class="line">  <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</div><div class="line">    <span class="keyword">yield</span> i;</div><div class="line">    i++;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> counter = get_counter();</div><div class="line"><span class="built_in">console</span>.log(counter.next().value);<span class="comment">//1</span></div><div class="line"><span class="built_in">console</span>.log(counter.next().value);<span class="comment">//2</span></div><div class="line"><span class="built_in">console</span>.log(counter.next().value);<span class="comment">//3</span></div><div class="line"><span class="built_in">console</span>.log(counter.next().value);<span class="comment">//4</span></div></pre></td></tr></table></figure></p>
<p>第一次呼叫next，跑到yield i這行的時候，他會i丟出函數，而i在前面已經被給值所以是1<br>第二呼叫next，從yield i這行開始往下跑，i++，因為while所以再次看到yield i，丟出i，因為i是2，所以值是2<br>以此類推</p>
<p>再來一個簡單的例子<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> *<span class="title">get_adder</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> total = <span class="number">0</span>;</div><div class="line">  <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"before yield"</span>);</div><div class="line">    total+=<span class="keyword">yield</span> total;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"after yield, total:"</span>+total);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> adder = get_adder();</div><div class="line"><span class="built_in">console</span>.log(adder.next().value);</div><div class="line"><span class="comment">/*</span></div><div class="line">before yield</div><div class="line">0</div><div class="line">*/</div><div class="line"><span class="built_in">console</span>.log(adder.next(<span class="number">100</span>).value);</div><div class="line"><span class="comment">/*</span></div><div class="line">after yield, total:100</div><div class="line">before yield</div><div class="line">100</div><div class="line">*/</div></pre></td></tr></table></figure></p>
<p>第一次呼叫next，跑到<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">total</span>+=yield <span class="keyword">total</span>;</div></pre></td></tr></table></figure></p>
<p>把total丟出函數，又因為total預設是0，所以console出來就是0<br>第二次呼叫next時，再把total接收next傳進來的值100，所以這行就變成<br><figure class="highlight fix"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attr">total+</span>=<span class="string">100</span></div></pre></td></tr></table></figure></p>
<p>所以yield有一種順序:</p>
<blockquote>
<p><strong>第一次執行到next()，先丟值出去。第二執行到next()，看看是否有傳入新的值，有的話就取代，再丟出來</strong><br>先丟在取代的概念</p>
</blockquote>
<p>再看一個例子:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> *<span class="title">gen</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> arr = [];</div><div class="line">  <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</div><div class="line">    arr.push(<span class="keyword">yield</span> arr);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> name = gen();</div><div class="line"><span class="built_in">console</span>.log(name.next(<span class="string">'init'</span>).value);<span class="comment">//[]</span></div><div class="line"><span class="built_in">console</span>.log(name.next(<span class="string">'nick'</span>).value);<span class="comment">//["nick"]</span></div><div class="line"><span class="built_in">console</span>.log(name.next(<span class="string">'peter'</span>).value);<span class="comment">//["nick","peter"]</span></div></pre></td></tr></table></figure></p>
<p>第一次執行next()，因為yield屬於先丟在取代的概念，所以就算一開始你給它初始值，一樣都出個空陣列給你<br>第二次執行next()，因為有初始值，所以取代原本的arr，所以這行變成</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">arr<span class="selector-class">.push</span>(<span class="string">"nick"</span>);</div></pre></td></tr></table></figure>
<p>後面就以此類推。</p>
<p>再來談 next(x)，請看下列的範例 //<a href="https://davidwalsh.name/es6-generators" target="_blank" rel="external">來源</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> y = <span class="number">2</span> * (<span class="keyword">yield</span> (x + <span class="number">1</span>)); <span class="comment">//*</span></div><div class="line">    <span class="keyword">const</span> z = <span class="keyword">yield</span> (y / <span class="number">3</span>);       <span class="comment">//*1</span></div><div class="line">    <span class="keyword">return</span> (x + y + z);            <span class="comment">//*2</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> iterator = foo(<span class="number">5</span>);</div><div class="line"><span class="built_in">console</span>.log(iterator.next());       <span class="comment">// &#123; value:6, done:false &#125;</span></div><div class="line"><span class="built_in">console</span>.log( iterator.next( <span class="number">12</span> ) );   <span class="comment">// &#123; value:8, done:false &#125;</span></div><div class="line"><span class="built_in">console</span>.log( iterator.next( <span class="number">13</span> ) );   <span class="comment">// &#123; value:42, done:true &#125;</span></div></pre></td></tr></table></figure></p>
<p>第一次呼叫next時，會把x+1丟出來，因為x在前面有給值5，所以value會是6<br>第二次呼叫next時，從<em>開始，yield先丟<strong>在吃</strong>所以將(x+1)換成12，所以y=24，然後跑到下一行將y/3丟出來，所以是8<br>第三次呼叫next時，從</em>1開始，並將y/3換成13，所以z=13<br>最後return 5+24+13</p>
<p>最後想談的是yield*，簡而言之就是將控制權交給內層的GF，code如下，<a href="http://abalone0204.github.io/2016/05/08/es6-generator-func/%20%60%60%60" target="_blank" rel="external">來源</a><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">yield</span> <span class="number">3</span></div><div class="line">    <span class="keyword">yield</span> <span class="number">4</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">yield</span> <span class="number">1</span></div><div class="line">    <span class="keyword">yield</span> <span class="number">2</span></div><div class="line">    <span class="keyword">yield</span>* foo() <span class="comment">// `yield *` delegates iteration control to `foo()`</span></div><div class="line">    <span class="keyword">yield</span> <span class="number">5</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> v <span class="keyword">of</span> bar()) &#123;</div><div class="line">    <span class="built_in">console</span>.log(v)</div><div class="line">&#125;</div><div class="line"><span class="comment">//印出1,2,3,4,5</span></div></pre></td></tr></table></figure></p>
<p>簡單說就是執行到yield* foo時 會跳到 foo()這個GF，將控制權交給它。</p>
<h4 id="Async"><a href="#Async" class="headerlink" title="Async"></a>Async</h4><p>前面講一大堆GF的用法，其中有一個好處是他可以用很像同步的寫法去實現非同步。<br>這樣寫會比較符合人性思考邏輯的觀點，也比較好debug。</p>
<p>假設我有一個特定的需求，我想要拿到特定order裡面，特定的phase下的某個comment<br>我用分別用三個函數來表示，並且此三個三數都是return promise:</p>
<ol>
<li>getOrder()</li>
<li>getPhase()</li>
<li>getCommnet()</li>
</ol>
<p>可能的寫法是<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getOrder</span>(<span class="params">orderId</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>( (res,err) =&gt; &#123;</div><div class="line">    $.ajax(</div><div class="line">    ....</div><div class="line">    );</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>照一般的人用promise寫法會是(簡化版)<br><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">getOrder(orderId)</div><div class="line">.<span class="keyword">then</span>( <span class="function"><span class="params">(order)</span> =&gt;</span> getPhase(order.phase[<span class="number">0</span>].id))</div><div class="line">.<span class="keyword">then</span>( <span class="function"><span class="params">(phase)</span> =&gt;</span> getComment(phase.comment[<span class="number">0</span>].id))</div><div class="line">.<span class="keyword">then</span>( comment =&gt; <span class="built_in">console</span>.log(comment.content));</div></pre></td></tr></table></figure></p>
<p>現在我們有GF，可以改寫成<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">run</span>(<span class="params">orderId</span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> order = <span class="keyword">yield</span> getOrder(orderId);</div><div class="line">  <span class="keyword">let</span> phase = <span class="keyword">yield</span> getPhase(order.phase[<span class="number">0</span>].id);</div><div class="line">  <span class="keyword">let</span> comment = <span class="keyword">yield</span> getComment(phase.comment[<span class="number">0</span>].id);</div><div class="line">  <span class="built_in">console</span>.log(comment.content);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> gen = run(orderId);</div><div class="line">gen.next().value.then( (order) =&gt; </div><div class="line"> gen.next(order).value.then( (phase) =&gt;</div><div class="line">   gen.next(phase).value.then( (comment) =&gt; </div><div class="line">     gen.next(comment);</div><div class="line">     <span class="built_in">console</span>.log(<span class="string">"done"</span>);</div><div class="line">   )</div><div class="line"> )</div><div class="line">)</div></pre></td></tr></table></figure></p>
<p>run這個GF，是不是很像同步的寫法</p>
<blockquote>
<p>getOder -&gt; getPhase -&gt; getComment</p>
</blockquote>
<p>接著我們解釋後面的程式碼:</p>
<ol>
<li>gen.next()會先跑yield右邊的getOrder(orderId)，其實這是一個向server發出request，而且return promise的函數<br>因為是return promise所以我們可以利用then</li>
<li>getOrder(orderId)會為我們拿到特定的order。注意第二個next有參數order，他會在run函數取代getOrder(orderId)並把值給左邊order變數</li>
<li>接著在run函數跑到第二個yield，同理先處理右邊的function，一樣回傳一個promise，之後跟上面一樣</li>
<li>以此類推</li>
</ol>
<p>好啦，我承認這樣寫，下半部的部分有點鳥，所以我們改成遞迴去解決這問題</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">run</span>(<span class="params">orderId</span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> order = <span class="keyword">yield</span> getOrder(orderId);</div><div class="line">  <span class="keyword">let</span> phase = <span class="keyword">yield</span> getPhase(order.phase[<span class="number">0</span>].id);</div><div class="line">  <span class="keyword">let</span> comment = <span class="keyword">yield</span> getComment(phase.comment[<span class="number">0</span>].id);</div><div class="line">  <span class="built_in">console</span>.log(comment.content);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">runGF</span>(<span class="params">orderId</span>)</span>&#123;</div><div class="line"></div><div class="line">  <span class="keyword">let</span> gen = run(orderId);</div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">go</span>(<span class="params">result</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(result.done) <span class="keyword">return</span>;</div><div class="line">    result.value.then((res) =&gt; go(gen.next(res));</div><div class="line">  &#125;</div><div class="line">  go(gen.next());</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>這節主題不是async，怎麼講一大堆GF的用法？<br>其實async是ES7 feature，他可以用更輕鬆的方式改寫GF</p>
<p>差別在於</p>
<ol>
<li>上面的function* run() 換成 async function run()</li>
<li>把yield變成await</li>
<li>不用再考慮遞回的部分</li>
</ol>
<p>於是上面的code就變成</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">run</span>(<span class="params">orderId</span>)</span>&#123;</div><div class="line">  <span class="keyword">let</span> order = <span class="keyword">await</span> getOrder(orderId);</div><div class="line">  <span class="keyword">let</span> phase = <span class="keyword">await</span> getPhase(order.phase[<span class="number">0</span>].id);</div><div class="line">  <span class="keyword">let</span> comment = <span class="keyword">await</span> getComment(phase.comment[<span class="number">0</span>].id);</div><div class="line">  <span class="built_in">console</span>.log(comment.content);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>這樣就結束惹，不必自己寫遞回執行</p>
<p>好啦 有興趣想深入瞭解的 在自己去Google</p>
<h3 id="Redux-thunk"><a href="#Redux-thunk" class="headerlink" title="Redux-thunk"></a>Redux-thunk</h3><p>簡單來說，就是強化版的Action Creator，因為ActionCreator是pure function<br>所以thunk也是pure function。</p>
<p>舉個例子，當今天我想做Login這個Action，但這個Action可以拆分成幾個小任務</p>
<ol>
<li>發出request to server</li>
<li>server render info to client side </li>
<li>如果成功則XXX 如果失敗 則XXX &lt;–通常是返回promise</li>
</ol>
<p>如果你想用redux做到這件事情，你該怎麼做？而上述小任務中，彼此又有先後順序之分(非同步)</p>
<p>redux-thunk就可以幫你解決這類的問題。</p>
<ol>
<li>同步: dispatch(action)</li>
<li>非同步: dispatch(thunk)</li>
</ol>
<p>以下的範例code取自:<a href="http://abalone0204.github.io/2016/05/14/redux-saga/#Introduction" target="_blank" rel="external">來源</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">loginFlow</span>(<span class="params">&#123;username, password&#125;</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> (dispatch) =&gt; &#123;</div><div class="line">        dispatch(loginRequest())</div><div class="line">        loginAPI(&#123;username, password&#125;)</div><div class="line">            .then(response =&gt; &#123;</div><div class="line">                dispatch(loginSucess(response))    </div><div class="line">            &#125;)</div><div class="line">            .catch(error =&gt; &#123;</div><div class="line">                dispatch(loginError(error))</div><div class="line">            &#125;)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>loginFlow本身是ActionCreator，return那串function就是thunk，可以清楚看到thunk在做什麼事情，它先幫你<br>發出request，在幫你呼叫loginAPI，如果成功或失敗則發出相對應的Action。</p>
<p>下面則是對應的Reducer<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span></span> login(state = &#123;</div><div class="line">    <span class="keyword">status</span>: <span class="string">'init'</span></div><div class="line">&#125;, <span class="keyword">action</span>) &#123;</div><div class="line">    switch (<span class="keyword">action</span>.<span class="keyword">type</span>) &#123;</div><div class="line">        <span class="keyword">case</span> LOGIN_REQUEST:</div><div class="line">            <span class="keyword">return</span> &#123;<span class="keyword">status</span>: <span class="string">'loading'</span>&#125;</div><div class="line">        <span class="keyword">case</span> LOGIN_SUCCESS:</div><div class="line">            <span class="keyword">return</span> &#123;</div><div class="line">                <span class="keyword">status</span>: <span class="string">'logined'</span>,</div><div class="line">                username: <span class="keyword">action</span>.response.username,</div><div class="line">                token: <span class="keyword">action</span>.response.token</div><div class="line">            &#125;</div><div class="line">        <span class="keyword">case</span> LOGIN_ERROR:</div><div class="line">            <span class="keyword">return</span> &#123;</div><div class="line">                <span class="keyword">status</span>: <span class="string">'error'</span>,</div><div class="line">                error: <span class="keyword">action</span>.error</div><div class="line">            &#125;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">            <span class="keyword">return</span> state</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>以上就是redux-thunk簡單的介紹</p>
<h3 id="redux-saga"><a href="#redux-saga" class="headerlink" title="redux-saga"></a>redux-saga</h3><p>作者建議選擇redux-saga來處理 async Action 而不是使用redux-thunk。</p>
<p>以我淺薄的看法，有幾項原因:</p>
<ol>
<li>因為redux-saga是以GF為主，所以可以用到GF本身語法帶來非同步的好處，這些好處<br>包含上面所提的，用類似同步的語法去表示非同步..etc等。</li>
<li>相較於redux-thunk，非常容易Testing </li>
<li>提供更多平行處理的機制</li>
</ol>
<p>redux-saga的部分，就講到這，因為打算開另外一篇單獨寫。</p>
<h2 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h2><blockquote>
<p>How to handle performance in big react.js app?</p>
</blockquote>
<ol>
<li>Webpack - Code Splitting</li>
</ol>
<p>對於大型的App，將程式全部打包成一個bundle.js檔往Client端丟，並不是很好的做法。<br>因為有些程式只會在某畫面需要用到，因此webpack提供了一個Code Splitting的功能，<br>提供比較高的自由度，讓開發者根據需求分割程式為一塊一塊的chunk，在需要的時候，在從client端發出<br>api載入需要chunk。</p>
<ol>
<li>shouldComponentUpdate</li>
</ol>
<p>在flux架構下，child component變化 -&gt; store變化 -&gt; root component 重新render，<br>但有些component是不需要render的，當你的app越來越大型的時候，component幾百幾千的時候<br>效率的問題，就必須考量，關鍵點在於你的App一開始的定位，會決定你是否要考慮加上<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">shouldComponentUpdate(nextProps) &#123;</div><div class="line">  <span class="keyword">return</span> nextProps !== <span class="keyword">this</span>.props;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>如果下一個Props不等於現在這個props則代表有改變，所以return會是true則重新render<br>但我們更深入來看這一行<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nextProps !== <span class="keyword">this</span>.props;</div></pre></td></tr></table></figure></p>
<p>這相當於比較兩個object<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123; <span class="string">'username'</span>: <span class="string">'@abc'</span> &#125; !== &#123; <span class="string">'username'</span> : <span class="string">'@abc'</span> &#125;</div></pre></td></tr></table></figure></p>
<p>必須先比較type，比較完在比較value，但當你的object很大的時候呢？<br>而且每個Component也要來比一次？<br>我們知道比較演算法來說，一般平均的Case是Big O是 nlogn<br>若我們有n個component則，時間複雜度就是(n^2)*log(n) </p>
<blockquote>
<p>Deeply comparing object is expensive</p>
</blockquote>
<p>所以作者就提出了Immutable.js這個解法，我附了一個連結，有興趣可以參考<br><a href="https://rhadow.github.io/2015/05/10/flux-immutable/" target="_blank" rel="external">Imuutable.js簡介</a></p>
<p>為什麼用Immutable是好的解法？，我們來看一下官網的簡單介紹</p>
<blockquote>
<p>These data structures are highly efficient on modern JavaScript VMs by<br>using structural sharing via <strong>hash maps</strong> tries and vector tries as popularized<br>by Clojure and Scala, minimizing the need to copy or cache data.</p>
</blockquote>
<p>所以當你今天要使用immutable的時候，你要先把他們轉成immutable使用的資料結構，而他是用hash出來的值<br>去存這些，所以當你兩個物件要比較的時候，時間複雜度就會變成O(1)</p>
<blockquote>
<p>Deeply comparing objects is cheap !</p>
</blockquote>
<p>下面是個例子：</p>
<p>在immutable.js裡面創建state的方式:<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">import &#123; <span class="keyword">from</span>JS &#125; <span class="keyword">from</span> 'immutable';</div><div class="line">const <span class="keyword">state</span> = <span class="keyword">from</span>JS(&#123;</div><div class="line">  'username': '@abc'</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>immutable比較用equal</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">fromJS</span><span class="params">(&#123;<span class="string">'username'</span>:<span class="string">'abc'</span>&#125;)</span></span></div><div class="line"></div><div class="line">       <span class="selector-class">.eqaul</span></div><div class="line">       </div><div class="line"><span class="function"><span class="title">fromJS</span><span class="params">(&#123;<span class="string">'username'</span>:<span class="string">'abc'</span>&#125;)</span></span></div></pre></td></tr></table></figure>
<p>當然，immutable.js好處不只如此，因為它提供他自己的資料結構，所以他有很多好用的method可以使用<br>這部分就不多說，期待看到其他人可以分享。</p>
<p><a href="!https://facebook.github.io/immutable-js/">Immutable官網</a></p>
<p>分享到此結束，下台一鞠躬，說錯的地方，請大家指證，想要多補充的也可以。</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="https://refreshow.github.io/blog/blog/2016/07/24/How-To-Scaling-React-js-Applications/" data-id="cirj0n4or0001uj1u211p2g5o" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="https://refreshow.github.io/blog/blog/2016/07/24/How-To-Scaling-React-js-Applications/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="https://refreshow.github.io/blog/blog/2016/07/24/How-To-Scaling-React-js-Applications/">評論</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/blog/2016/08/02/Redux-Saga介紹/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    Redux Saga介紹
                
            </div>
        </a>
    
    
        <a href="/blog/2016/07/23/WebStorm-vim/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">Webstorm + vim 雙劍合壁</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/Javascript/">Javascript</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/blog/categories/Javascript/React-js/">React.js</a></p>
                            <p class="item-title"><a href="/blog/2016/08/02/Redux-Saga介紹/" class="title">Redux Saga介紹</a></p>
                            <p class="item-date"><time datetime="2016-08-02T00:13:55.000Z" itemprop="datePublished">2016-08-02</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/Javascript/">Javascript</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/blog/categories/Javascript/React-js/">React.js</a></p>
                            <p class="item-title"><a href="/blog/2016/07/24/How-To-Scaling-React-js-Applications/" class="title">How To Scaling React.js Applications</a></p>
                            <p class="item-date"><time datetime="2016-07-24T01:43:53.000Z" itemprop="datePublished">2016-07-24</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/training/">training</a></p>
                            <p class="item-title"><a href="/blog/2016/07/23/WebStorm-vim/" class="title">Webstorm + vim 雙劍合壁</a></p>
                            <p class="item-date"><time datetime="2016-07-23T02:31:03.000Z" itemprop="datePublished">2016-07-23</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/training/">training</a></p>
                            <p class="item-title"><a href="/blog/2016/07/21/Refreshow開發規範/" class="title">Refreshow開發規範</a></p>
                            <p class="item-date"><time datetime="2016-07-20T18:14:58.000Z" itemprop="datePublished">2016-07-21</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/blog/categories/javascript/">javascript</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/blog/categories/javascript/react-js/">react.js</a></p>
                            <p class="item-title"><a href="/blog/2016/07/17/Redux-Action-Reducer-Store/" class="title">Redux-Action/Reducer/Store</a></p>
                            <p class="item-date"><time datetime="2016-07-17T13:32:13.000Z" itemprop="datePublished">2016-07-17</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分類</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Javascript/">Javascript</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/Javascript/React-js/">React.js</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/javascript/">javascript</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/blog/categories/javascript/react-js/">react.js</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/blog/categories/training/">training</a><span class="category-list-count">6</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">歸檔</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2016/07/">七月 2016</a><span class="archive-list-count">8</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">標籤</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/MERN/">MERN</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/Webstorm/">Webstorm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/blog/">blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/javascript/">javascript</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/blog/tags/vim/">vim</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">標籤雲</h3>
        <div class="widget tagcloud">
            <a href="/blog/tags/MERN/" style="font-size: 20px;">MERN</a> <a href="/blog/tags/Webstorm/" style="font-size: 10px;">Webstorm</a> <a href="/blog/tags/blog/" style="font-size: 10px;">blog</a> <a href="/blog/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/blog/tags/javascript/" style="font-size: 20px;">javascript</a> <a href="/blog/tags/vim/" style="font-size: 10px;">vim</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">連結</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2016 Refreshow<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'https://refreshow.github.io/blog/blog/2016/07/24/How-To-Scaling-React-js-Applications/';
        
        this.page.identifier = 'How-To-Scaling-React-js-Applications';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'hexo-theme-icarus' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>



    
        <script src="/blog/vendor/fancybox/jquery.fancybox.pack.js"></script>
    


<!-- Custom Scripts -->
<script src="/blog/js/main.js"></script>

    </div>
</body>
</html>